model:
  path: plus://9becd28c97c39b6cd0e2b9182841638a

mqtt:
  host: mosquitto.automation.svc.cluster.local
  port: 1883
  user: '{FRIGATE_MQTT_USERNAME}'
  password: '{FRIGATE_MQTT_PASSWORD}'
  topic_prefix: frigate

database:
  path: /config/frigate.db

detectors:
  coral:
    type: edgetpu
    device: usb

face_recognition:
  enabled: true

lpr:
  enabled: true

auth:
  enabled: False
  trusted_proxies:
    - 10.69.0.0/16
    - 10.0.80.0/28

ffmpeg:
  hwaccel_args: preset-intel-qsv-h264
  output_args:
    record: preset-record-generic-audio-copy

live:
  height: 720
  quality: 1

birdseye:
  enabled: True
  mode: objects

go2rtc:
  streams:
    doorbell_main:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_DOORBELL_IP}:554/h264Preview_01_main
    doorbell_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_DOORBELL_IP}:554/h264Preview_01_sub

    driveway_wide_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_DRIVEWAY_IP}:554/Preview_01_sub
    driveway_zoom_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_DRIVEWAY_IP}:554/Preview_02_sub

    bay_window_wide_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_BAY_WINDOW_IP}:554/Preview_01_sub
    bay_window_zoom_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_BAY_WINDOW_IP}:554/Preview_02_sub

    mountain_side_wide_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_MOUNTAIN_SIDE_IP}:554/Preview_01_sub
    mountain_side_zoom_sub:
      - rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_MOUNTAIN_SIDE_IP}:554/Preview_02_sub

objects:
  track:
    - person
    - face
    - car
    - waste_bin
    - dog

record:
  enabled: true
  retain:
    days: 7
    mode: all
  detections:
    retain:
      days: 10
      mode: active_objects
  alerts:
    pre_capture: 5
    post_capture: 5
    retain:
      days: 14
      mode: active_objects

detect:
  enabled: True

review:
  alerts:
    labels:
      - person
      - car
      - motorcycle
      - cat
      - package
      - face
      - licence_plate
  detections:
    labels:
      - amazon
      - bear
      - bicycle
      - bird
      - car
      - cat
      - cow
      - deer
      - dhl
      - dog
      - face
      - fedex
      - horse
      - license_plate
      - motorcycle
      - package
      - person
      - sheep
      - ups
      - usps
cameras:
  doorbell:
    ffmpeg:
      inputs:
        - path: rtsp://127.0.0.1:8554/doorbell_main
          input_args: preset-rtsp-restream
          roles:
            - record
            - detect
    objects:
      track:
        - person
        - face
        - dog
        - package
    motion:
      mask:
        - 0.341,0.019,0.644,0.018,0.645,0.049,0.342,0.049
    snapshots:
      enabled: True
      timestamp: False
      bounding_box: True
      crop: False
    lpr:
      enabled: False  # No road here
    mqtt:
      enabled: True
      timestamp: False
      crop: True

  driveway_wide:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_DRIVEWAY_IP}:554/Preview_01_main
          input_args: preset-rtsp-restream
          roles:
            - record
            - audio
        - path: rtsp://127.0.0.1:8554/driveway_wide_sub
          input_args: preset-rtsp-restream
          roles:
            - detect
    motion:
      mask:
        - 0.291,0.011,0.708,0.013,0.708,0.074,0.291,0.075
    detect:
      width: 896
      height: 512
    objects:
      track:
        - person
        - face
        - bicycle
        - car
        - motorcycle
        - license_plate
        - package
        - amazon
        - usps
        - ups
        - fedex
        - dhl
        - deer
        - cat
        - dog
      filters:
        car:
          # attempt to filter out cars on the road but not in the dirveway
          min_area: 1500
    snapshots:
      enabled: True
      timestamp: False
      bounding_box: True
      crop: False
    lpr:
      enabled: true
    mqtt:
      enabled: True
      timestamp: False
      crop: True

  driveway_zoom:
    detect:
      enabled: false
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_DRIVEWAY_IP}:554/h264Preview_02_main
          hwaccel_args: preset-intel-qsv-h265
          roles:
            - record
            - audio
        - path: rtsp://127.0.0.1:8554/driveway_zoom_sub
          input_args: preset-rtsp-restream
          roles:
            - detect

  bay_window_wide:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_BAY_WINDOW_IP}:554/Preview_01_main
          input_args: preset-rtsp-restream
          roles:
            - record
            - audio
        - path: rtsp://127.0.0.1:8554/bay_window_wide_sub
          input_args: preset-rtsp-restream
          roles:
            - detect
    motion:
      mask:
        - 0.291,0.011,0.708,0.013,0.708,0.074,0.291,0.075
    detect:
      width: 896
      height: 512
    objects:
      track:
        - person
        - face
        - bicycle
        - car
        - motorcycle
        - license_plate
        - cat
        - dog
        - bird
        - horse
        - bear
        - sheep
        - cow
        - deer
    snapshots:
      enabled: True
      timestamp: False
      bounding_box: True
      crop: False
    lpr:
      enabled: False
    mqtt:
      enabled: True
      timestamp: False
      crop: True

  bay_window_zoom:
    detect:
      enabled: false
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_BAY_WINDOW_IP}:554/h264Preview_02_main
          hwaccel_args: preset-intel-qsv-h265
          roles:
            - record
            - audio
        - path: rtsp://127.0.0.1:8554/bay_window_zoom_sub
          input_args: preset-rtsp-restream
          roles:
            - detect

  mountain_side_wide:
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_MOUNTAIN_SIDE_IP}:554/Preview_01_main
          input_args: preset-rtsp-restream
          roles:
            - record
            - audio
        - path: rtsp://127.0.0.1:8554/mountain_side_wide_sub
          input_args: preset-rtsp-restream
          roles:
            - detect
    motion:
      mask:
        - 0.291,0.011,0.708,0.013,0.708,0.074,0.291,0.075
    detect:
      width: 896
      height: 512
    objects:
      track:
        - person
        - bicycle
        - car
        - motorcycle
        - cat
        - dog
        - bird
        - horse
        - bear
        - sheep
        - cow
        - deer
    snapshots:
      enabled: True
      timestamp: False
      bounding_box: True
      crop: False
    lpr:
      enabled: False # there is no road here
    mqtt:
      enabled: True
      timestamp: False
      crop: True

  mountain_side_zoom:
    detect:
      enabled: false
    ffmpeg:
      inputs:
        - path: rtsp://{FRIGATE_CAMERA_USER}:{FRIGATE_CAMERA_PASSWORD}@{FRIGATE_MOUNTAIN_SIDE_IP}:554/h264Preview_02_main
          hwaccel_args: preset-intel-qsv-h265
          roles:
            - record
            - audio
        - path: rtsp://127.0.0.1:8554/mountain_side_zoom_sub
          input_args: preset-rtsp-restream
          roles:
            - detect
